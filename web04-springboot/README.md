# ğŸ“… 2026.01.17ï¼šWeb å‰åç«¯è”é€šï¼ˆSpring Boot + REST + Vue/Axiosï¼‰

> æœ¬æ—¥ç›®æ ‡ï¼šæŠŠâ€œé¡µé¢å£³ï¼ˆHTMLï¼‰â€å’Œâ€œæ•°æ®æ¥å£ï¼ˆJSONï¼‰â€å½»åº•åˆ†æ¸…ï¼Œè·‘é€šä¸€æ¡æœ€å°é—­ç¯ï¼š  
> **æ‰“å¼€ `user.html` â†’ Axios è¯·æ±‚ `/list` â†’ åç«¯åˆ†å±‚è¯»å– `user.txt` â†’ è¿”å› JSON â†’ Vue æ¸²æŸ“è¡¨æ ¼**

---

## ğŸ¯ ä»Šæ—¥ç›®æ ‡
- [x] ç†è§£ï¼š**é¡µé¢è¯·æ±‚** å’Œ **æ•°æ®è¯·æ±‚** æ˜¯ä¸¤æ¬¡ä¸åŒçš„ HTTP è¯·æ±‚
- [x] è·‘é€šï¼š`GET /list` è¿”å› `List<User>`ï¼ˆè‡ªåŠ¨è½¬ JSONï¼‰
- [x] è·‘é€šï¼š`user.html` ä½¿ç”¨ Vue + Axios å¼‚æ­¥è¯·æ±‚å¹¶æ¸²æŸ“è¡¨æ ¼
- [x] ç†è§£ï¼šController / Service / Dao åˆ†å±‚èŒè´£
- [x] ç»ƒåˆ°ï¼šåŒæ¥å£å¤šä¸ªå®ç°æ—¶ï¼Œ`@Primary/@Qualifier` çš„æ³¨å…¥é€‰æ‹©

---

## ğŸ’¡ æ ¸å¿ƒå·¥ç¨‹æ´å¯Ÿ (Technical Insight)

### 1ï¸âƒ£ â€œå‰åç«¯è”é€šâ€ä¸æ˜¯ä¸€å¥è¯ï¼šå®ƒæ˜¯ä¸¤æ¬¡è¯·æ±‚ + ä¸€æ¬¡æ¸²æŸ“
**ä½ çœ‹åˆ°è¡¨æ ¼æ•°æ®**ï¼ŒèƒŒåè‡³å°‘å‘ç”Ÿäº† 3 ä»¶äº‹ï¼š

1) æµè§ˆå™¨å…ˆè¯·æ±‚ï¼š`GET /user.html`ï¼ˆæ‹¿åˆ°é¡µé¢å£³ï¼‰
2) é¡µé¢ JS è¿è¡Œåå†è¯·æ±‚ï¼š`GET /list`ï¼ˆæ‹¿åˆ° JSON æ•°æ®ï¼‰
3) Vue æŠŠ `userList` æ¸²æŸ“åˆ° DOMï¼ˆ`v-for`ï¼‰

> å…³é”®åˆ†ç•Œï¼š  
> **HTML/CSS = å£³**ï¼›**Axios = å»æ‹¿æ•°æ®**ï¼›**Vue = è‡ªåŠ¨æ¸²æŸ“**ã€‚

---

### 2ï¸âƒ£ ä¸ºä»€ä¹ˆ `/list` è¦è¿”å› JSONï¼Œè€Œä¸æ˜¯è¿”å› HTMLï¼Ÿ
- `/list` æ˜¯ **æ•°æ®æ¥å£**ï¼šç»™å‰ç«¯â€œåŸææ–™â€ï¼ˆJSONï¼‰ï¼Œå¯å¤ç”¨ï¼ˆç½‘é¡µ/æ‰‹æœº/å°ç¨‹åºéƒ½èƒ½ç”¨ï¼‰
- `user.html` æ˜¯ **é¡µé¢**ï¼šè´Ÿè´£å±•ç¤ºç»“æ„ + æ¸²æŸ“é€»è¾‘ï¼ˆè¡¨æ ¼æ€ä¹ˆé•¿ï¼‰

> å£è¯€ï¼š**é¡µé¢ç»™â€œäººçœ‹â€â†’ HTMLï¼›æ¥å£ç»™â€œç¨‹åºç”¨â€â†’ JSONã€‚**

---

### 3ï¸âƒ£ `axios.get('/list')` ä¸ºä»€ä¹ˆèƒ½å·¥ä½œï¼Ÿ
å› ä¸ºä½ ç°åœ¨é¡µé¢åœ¨ `http://localhost:8080/user.html`  
`/list` æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¼šè‡ªåŠ¨è¡¥å…¨ä¸ºï¼š`http://localhost:8080/list`

> ä½†å¦‚æœå‰ç«¯æœªæ¥è·‘åœ¨ Vite `5173`ï¼š  
> `axios.get('/list')` ä¼šå˜æˆè¯·æ±‚ `http://localhost:5173/list`ï¼ˆæ‰“åˆ°å‰ç«¯è‡ªå·±èº«ä¸Šï¼Œé€šå¸¸ 404ï¼‰  
> è¿™å°±æ˜¯ä½ åç»­ä¼šé‡åˆ°çš„â€œè”é€šæ¨¡ç³Šç‚¹â€ã€‚

---

### 4ï¸âƒ£ åˆ†å±‚ä¸æ˜¯å½¢å¼ä¸»ä¹‰ï¼šå®ƒæ˜¯ä¸ºäº†æŠŠå˜åŒ–éš”ç¦»
- **Controller**ï¼šæ¥æ”¶è¯·æ±‚ï¼Œè¿”å›å“åº”ï¼ˆä¸å†™ä¸šåŠ¡ç»†èŠ‚ï¼‰
- **Service**ï¼šä¸šåŠ¡å¤„ç†ï¼ˆè§£æã€è½¬æ¢ã€è§„åˆ™ï¼‰
- **Dao**ï¼šæ•°æ®æ¥æºï¼ˆæ–‡ä»¶/æ•°æ®åº“/æ¥å£ï¼‰

ä½ çš„é“¾è·¯å°±æ˜¯ï¼š
`UserController` â†’ `UserService` â†’ `UserDao` â†’ `user.txt`

---

## ğŸ› ï¸ å…³é”®ä»£ç ä¸ç»“è®ºï¼ˆæˆ‘ä»Šå¤©æœ€é‡è¦çš„äº§å‡ºï¼‰

### A) å‰ç«¯ï¼š`user.html`ï¼ˆVue + Axios + v-for æ¸²æŸ“ï¼‰
- é¡µé¢åŠ è½½å®Œæˆï¼ˆmountedï¼‰åï¼Œå¼‚æ­¥è¯·æ±‚ `/list`
- æ‹¿åˆ° JSON åèµ‹å€¼ `userList`ï¼ŒVue è‡ªåŠ¨æ¸²æŸ“è¡¨æ ¼

```js
async search(){
  const result = await axios.get('/list');
  this.userList = result.data;
}
mounted() {
  this.search();
}
```

## B) åç«¯ï¼šGET /list è¿”å› JSONï¼ˆSpring Boot è‡ªåŠ¨åºåˆ—åŒ–ï¼‰

**Controller åªè´Ÿè´£ï¼šæ¥æ”¶è¯·æ±‚ â†’ è°ƒç”¨ service â†’ è¿”å›ç»“æœ**  
`@RestController` ä¼šè®©è¿”å›çš„ `List<User>` è‡ªåŠ¨åºåˆ—åŒ–ä¸º JSON å†™å›å“åº”ä½“ã€‚

```java
@RestController
public class UserController {

    @Autowired
    private UserService userService;

    @RequestMapping("/list")
    public List<User> list() {
        return userService.list();
    }
}
```
## C) ä¸šåŠ¡å¤„ç†ï¼šè¯»å– user.txt â†’ è§£æä¸º User åˆ—è¡¨

**Service ä¸­åšè§£æå°è£…ï¼ˆä½ æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼‰ï¼š**
- `UserServiceImpl`ï¼šid åŸæ ·
- `UserServiceImpl2`ï¼šid + 200ï¼ˆå¹¶ç”¨ `@Primary` ä½œä¸ºé»˜è®¤æ³¨å…¥ï¼‰

**æ ¸å¿ƒè§£æé€»è¾‘ï¼ˆç¤ºä¾‹ï¼‰ï¼š**

```java
List<User> userList = lines.stream().map(line -> {
    String[] split = line.split(",");
    return new User(
        Integer.parseInt(split[0]),
        split[1], split[2], split[3],
        Integer.parseInt(split[4]),
        LocalDateTime.parse(split[5], DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss"))
    );
}).toList();
```
## D) æ•°æ®æ¥æºï¼šDao è¯»å– classpath ä¸‹çš„ user.txtï¼ˆHutool IoUtilï¼‰

Dao è´Ÿè´£â€œæ‹¿åˆ°åŸå§‹æ•°æ®è¡Œâ€ï¼Œå…ˆä¸æºæ‚ä¸šåŠ¡è§£æï¼š

```java
InputStream in = getClass().getClassLoader().getResourceAsStream("user.txt");
ArrayList<String> lines = IoUtil.readUtf8Lines(in, new ArrayList<>());
return lines;
```
## ğŸ›¡ï¸ å·¥ä¸šçº§å®¡è®¡ (Industrial Audit)

### 1) èµ„æºç®¡ç†ï¼ˆInputStream æœªå…³é—­ + å¯èƒ½ä¸º nullï¼‰
å½“å‰ Dao æœ‰ä¸¤ä¸ªé£é™©ï¼š
- `getResourceAsStream("user.txt")` å¯èƒ½è¿”å› `null`ï¼ˆè·¯å¾„é”™è¯¯ï¼‰
- `InputStream` æœªæ˜¾å¼å…³é—­ï¼ˆèµ„æºæ³„éœ²é£é™©ï¼‰

âœ… å»ºè®®ï¼ˆtry-with-resources + ç©ºåˆ¤æ–­ï¼‰ï¼š

```java
try (InputStream in = getClass().getClassLoader().getResourceAsStream("user.txt")) {
    if (in == null) throw new IllegalStateException("user.txt not found");
    return IoUtil.readUtf8Lines(in, new ArrayList<>());
}
```
### 2) ä¾èµ–æ³¨å…¥å†²çªï¼ˆåŒæ¥å£å¤šä¸ªå®ç°ï¼‰
ä½ ç°åœ¨æœ‰ï¼š
- `UserServiceImpl`
- `UserServiceImpl2`ï¼ˆæ ‡äº† `@Primary`ï¼‰

è¿™ä¼šå¯¼è‡´é»˜è®¤æ³¨å…¥ä¸º `UserServiceImpl2`ï¼ˆid ä¼š +200ï¼‰ã€‚

âœ… å®¡è®¡ç»“è®ºï¼š
- Demo é˜¶æ®µè¿™æ ·ç»ƒ `@Primary` æ²¡é—®é¢˜
- ä½†å·¥ç¨‹ä¸Šæ›´å»ºè®®ï¼šç”¨ `@Qualifier` æ˜ç¡®é€‰æ‹©ï¼ˆå¯æ§ã€å¯è¯»ï¼‰

---

### 3) å®‰å…¨è¯­ä¹‰ï¼špassword ä¸åº”è¿”å›/å±•ç¤º
å½“å‰å‰ç«¯ç›´æ¥æ˜¾ç¤º `{{user.password}}`ã€‚

âœ… å®¡è®¡ç»“è®ºï¼š
- Demo å¯ä»¥å±•ç¤ºå­—æ®µç»“æ„
- çœŸå®å·¥ç¨‹ï¼špassword å­—æ®µå¿…é¡»ä»æ¥å£ç§»é™¤ï¼ˆæˆ–å‰ç«¯è‡³å°‘ä¸å±•ç¤ºï¼‰

---

### 4) Controller æ¸…æ´åº¦ï¼ˆæ— ç”¨ import / æ³¨é‡Šå¤§å—æ—§ä»£ç ï¼‰
`UserController.java` é‡Œå­˜åœ¨å¤§é‡æœªä½¿ç”¨ import å’Œæ³¨é‡Šæ‰çš„å¤§æ®µæ—§å®ç°ã€‚

âœ… å»ºè®®ï¼š
- åˆ é™¤æ— ç”¨ import
- åˆ é™¤æ³¨é‡Šæ‰çš„æ—§å®ç°
- ä¿æŒ Controller åªåšâ€œè½¬å‘è°ƒç”¨â€ï¼Œè®©é“¾è·¯æ›´æ¸…æ™°

---

### 5) å‰ç«¯é”™è¯¯å¤„ç†ç¼ºå¤±
Axios è¯·æ±‚å¤±è´¥æ—¶ç›®å‰ä¸ä¼šç»™ç”¨æˆ·æ˜æ˜¾æç¤ºã€‚

âœ… å»ºè®®ï¼šåŠ  `try/catch + console.error + alert`ï¼Œä¾¿äºå®šä½ `Network/CORS/404`ï¼š

```js
async search(){
  try {
    const result = await axios.get('/list');
    this.userList = result.data;
  } catch (e) {
    console.error(e);
    alert('è¯·æ±‚ /list å¤±è´¥ï¼šè¯·æ‰“å¼€ F12 â†’ Network æŸ¥çœ‹çŠ¶æ€ç ä¸ Request URL');
  }
}
```




## ğŸ™ï¸ é¢è¯•é«˜é¢‘å…³æ³¨ç‚¹ (Interview Questions)

| è€ƒç‚¹æ–¹å‘ | æ ¸å¿ƒå›ç­”ç‚¹ (Key Points) |
|---|---|
| `@RestController` æ˜¯ä»€ä¹ˆï¼Ÿ | `@Controller + @ResponseBody`ï¼Œè¿”å›å¯¹è±¡/é›†åˆä¼šè‡ªåŠ¨è½¬ JSON å†™å›å“åº” |
| å‰åç«¯è”é€šåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ | å…ˆè¯·æ±‚é¡µé¢ï¼ˆHTMLï¼‰ï¼Œå†ç”± JSï¼ˆAxiosï¼‰è¯·æ±‚æ¥å£ï¼ˆJSONï¼‰ï¼Œæœ€åæ¸²æŸ“ |
| MVC/åˆ†å±‚çš„æ„ä¹‰ï¼Ÿ | Controller æ¥å£å±‚ã€Service ä¸šåŠ¡å±‚ã€Dao æ•°æ®å±‚ï¼›å˜åŒ–éš”ç¦»ã€ä¾¿äºç»´æŠ¤/æµ‹è¯• |
| `@Autowired` æ³¨å…¥åŸç†ï¼Ÿ | æŒ‰ç±»å‹æ³¨å…¥ï¼›åŒç±»å‹å¤šä¸ªå®ç°ä¼šå†²çªï¼Œéœ€è¦ `@Primary/@Qualifier` |
| ä¸ºä»€ä¹ˆ `/list` è¿”å› JSONï¼Ÿ | æ¥å£æ˜¯æ•°æ®æœåŠ¡ï¼Œå¯å¤ç”¨ï¼›é¡µé¢æ˜¯å±•ç¤ºå£³ï¼ŒèŒè´£ä¸åŒ |
| CORS æ˜¯ä»€ä¹ˆï¼Ÿ | ä¸åŒæºï¼ˆç«¯å£ä¸åŒï¼‰æµè§ˆå™¨ä¼šæ‹¦æˆªå‰ç«¯ JS è¯·æ±‚ï¼›å¼€å‘é˜¶æ®µç”¨ä»£ç†æˆ–åç«¯æ”¾å¼€ CORS |
| ä¸ºä»€ä¹ˆ `axios.get('/list')` åœ¨ 8080 å¯ç”¨ï¼Ÿ | ç›¸å¯¹è·¯å¾„=å½“å‰åŸŸåç«¯å£ï¼›åœ¨ 5173 ä¼šæ‰“åˆ° 5173 è‡ªå·±èº«ä¸Š |

---

## ğŸ§  é˜²é—å¿˜é™„å½• (Post-mortem)

### ä¸€å¼€å§‹æˆ‘å“ªé‡Œæƒ³é”™äº†ï¼Ÿ

**è¯¯åŒº1ï¼šä»¥ä¸ºæ‰“å¼€é¡µé¢å°±ç­‰äºæ‹¿åˆ°æ•°æ®**  
å®é™…ä¸Šï¼š`user.html` åªæ˜¯é¡µé¢å£³ï¼Œæ•°æ®å¿…é¡»å†è¯·æ±‚ `/list`ã€‚

**è¯¯åŒº2ï¼šæ²¡æ„è¯†åˆ°ç«¯å£ä¸åŒå°±æ˜¯ä¸åŒç«™ç‚¹**
- 8080ï¼šåç«¯æœåŠ¡ + é™æ€é¡µé¢
- 5173ï¼šVite å‰ç«¯å¼€å‘æœåŠ¡å™¨  
  ç›¸å¯¹è·¯å¾„ `/list` åœ¨ 5173 ä¼šå˜æˆè¯·æ±‚ `5173/list`ï¼Œä¸æ˜¯ `8080/list`ã€‚

### æˆ‘æœ€åè®°ä½çš„ 3 å¥è¯
1) é¡µé¢æ˜¯å£³ï¼Œæ•°æ®é æ¥å£ï¼Œæ¸²æŸ“é å‰ç«¯æ¡†æ¶ã€‚
2) ç›¸å¯¹è·¯å¾„ `/list = å½“å‰åŸŸåç«¯å£çš„ /list`ã€‚
3) ä¸¤ä¸ªå®ç°ç±»æ³¨å…¥ä¸æ˜ç¡®ï¼Œå°±ç”¨ `@Qualifier` æ˜ç¡®é€‰æ‹©ã€‚  





